function create_stim(t,e){document.getElementById("MainCanvas").height=screen.height/1.2,document.getElementById("MainCanvas").width=screen.width;var a=screen.width/2-document.getElementById("MainCanvas").width/2;if($("#MainCanvas").css({position:"absolute",left:a+"px"}),$("#MainCanvas").css({position:"absolute",top:"-50px"}),screen.width<400){var s=15,n=280,r=1.5,i=4,o=2;$("#preg").css("fontSize","20px"),$("#preg_segu").css("fontSize","20px")}if(screen.width>=400&&screen.width<600){var s=25,n=280,r=1.5,i=4,o=2;$("#preg").css("fontSize","30px"),$("#preg_segu").css("fontSize","30px")}if(screen.width>=600&&screen.width<900){var s=35,n=375,r=2,i=6,o=3;$("#preg").css("fontSize","30px"),$("#preg_segu").css("fontSize","30px")}if(screen.width>=900&&screen.width<1200){var s=40,n=375,r=2,i=6,o=3;$("#preg").css("fontSize","30px"),$("#preg_segu").css("fontSize","30px")}if(screen.width>=1200&&screen.width<1700){var s=60,n=375,r=3,i=6,o=3;$("#preg").css("fontSize","30px"),$("#preg_segu").css("fontSize","30px")}if(screen.width>=1700&&screen.width<2e3){var s=60,n=375,r=3,i=6,o=3;$("#preg").css("fontSize","30px"),$("#preg_segu").css("fontSize","30px")}if(screen.width>=2e3){var s=60,n=375,r=3,i=6,o=3;$("#preg").css("fontSize","30px"),$("#preg_segu").css("fontSize","30px")}if(screen.width<400)var c=110;if(screen.width>=400&&screen.width<600)var c=135;if(screen.width>=600&&screen.width<900)var c=110;if(screen.width>=900&&screen.width<1200)var c=110;if(screen.width>=1200)var c=110;e.SD=s,e.Nsamples=n,e.Target_interior_size=o,e.Target_exterior_size=i;var h=document.getElementById("MainCanvas").width/2,l=document.getElementById("MainCanvas").height/2,d=t.dist_12_values[t.trial-1];e.distance_21=d,e.nstim=t.nstim[t.trial-1];var g=Math.pow(s,2),p=Math.random()*Math.PI*2,u=2*-Math.PI/3;e.angle=p,X1=Math.round(Math.cos(0)*c+h),Y1=Math.round(Math.sin(0)*c+l),X2=Math.round(Math.cos(0+u)*c+h),Y2=Math.round(Math.sin(0+u)*c+l),X3=Math.round(Math.cos(0+u+u)*c*2.5+h),Y3=Math.round(Math.sin(0+u+u)*c*2.5+l);var f=Math.round(Math.random())+1;e.CorrectCloud=f,1==f&&(Xtarget=Math.max(X1,X2)-Math.abs(X1-X2)/d,Ytarget=Math.max(Y1,Y2)-Math.abs(Y1-Y2)/d),2==f&&(Xtarget=Math.min(X1,X2)+Math.abs(X1-X2)/d,Ytarget=Math.min(Y1,Y2)+Math.abs(Y1-Y2)/d),e.Xtarget=Xtarget,e.Ytarget=Ytarget,console.log("x target:",Xtarget),console.log("y target:",Ytarget),console.log("distance:",d);for(var M=GaussDist(),m=M(X1,g),v=M(Y1,g),w=M(X2,g),_=M(Y2,g),b=M(X3,g),x=M(Y3,g),S=[],X=[],Y=[],y=[],P=[],z=[],C=0;n>C;C++)S.push(m.ppf(Math.random())),X.push(v.ppf(Math.random())),Y.push(w.ppf(Math.random())),y.push(_.ppf(Math.random())),P.push(b.ppf(Math.random())),z.push(x.ppf(Math.random()));var I=document.getElementById("MainCanvas"),B=I.getContext("2d");B.clearRect(0,0,I.width,I.height);var E=I.width/2,F=I.height/2;B.translate(E,F),B.rotate(p),B.translate(-E,-F);var T=["e62315","0cc90f","2112c7"];e.col_clouds=shuffle([0,1,2]),e.col_bots=[0,1,2],e.CorrectColor=e.col_clouds[e.CorrectCloud-1],console.log("correct cloud:",f),document.getElementById("button_1").style.background="#"+T[e.col_bots[0]],document.getElementById("button_2").style.background="#"+T[e.col_bots[1]],document.getElementById("button_3").style.background="#"+T[e.col_bots[2]];for(var k=0,D=0,G=0,N=0,R=0,j=0,q=0;n>q;q++)k=S[q],D=X[q],G=Y[q],N=y[q],3==t.nstim[t.trial-1]&&(R=P[q],j=z[q]),B.beginPath(),B.arc(k,D,r,0,2*Math.PI),B.closePath(),B.fillStyle="#"+T[e.col_clouds[0]],B.fill(),B.beginPath(),B.arc(G,N,r,0,2*Math.PI),B.closePath(),B.fillStyle="#"+T[e.col_clouds[1]],B.fill(),3==t.nstim[t.trial-1]&&(B.beginPath(),B.arc(R,j,r,0,2*Math.PI),B.closePath(),B.fillStyle="#"+T[e.col_clouds[2]],B.fill());B.beginPath(),B.arc(Xtarget,Ytarget,i,0,2*Math.PI),B.closePath(),B.fillStyle="#FFFF00",B.fill(),B.beginPath(),B.arc(Xtarget,Ytarget,o,0,2*Math.PI),B.closePath(),B.fillStyle="#000000",B.fill(),setTimeout("$('#MainCanvas').hide(0,show_stim(sc,DataToSave))",100)}